### http协议

--------
[TOC]

--------
#### 简介
>- HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。HTTP是基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件， 查询结果等）。
> - HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。
#### 特点
1.支持客户或服务器模式
2.简单快速：当客户向服务器发送请求时只需要传送请求方法和路径，并且由于http协议简单，使得http服务器的程序规模小，因此通信速度很快
3.无连接：无连接是指限制每次连接只处理一个请求，服务器处理完客户的请求，受到回应，即可以断开与其连接
4.无状态：这里的无状态是指协议对于事务的处理没有记忆，也就是如果后面处理的事项需要前面的信息，即需要重新输入
5.灵活：http允许传输任意类型的数据对象
>根据HTTP的请求响应模型，http协议都是客户端发送请求，服务器回送响应，如果客户端没有发起请求则无法实现

#### 请求消息
- 格式
1.请求行（request line）
用来说明请求类型,要访问的资源以及所使用的HTTP版本
2.请求头部（header）
紧接着请求行（即第一行）之后的部分，用来说明服务器要使用的附加信息
3.空行
请求头部后面的空行是必须的
4.请求数据
请求数据也叫主体，可以添加任意的其他数据。

![Alt text](./http.png)

#### 响应消息
- 格式
1.状态行
由HTTP协议版本号， 状态码， 状态消息 三部分组成。
2.消息报头
用来说明客户端要使用的一些附加信息
3.空行
消息报头后面的空行是必须的
4.响应正文
服务器返回给客户端的文本信息

![Alt text](./http1.jpg)


#### 工作流程
一次http操作的工作过程可以分为四步：
>1）首先客户机与服务器需要建立连接。只要单击某个超级链接，HTTP的工作开始。
>2）建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符、客户机信息和可能的内容。
>3）服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是MIME信息包括服务器信息、实体信息和可能的内容。
>4）客户端接收服务器所返回的信息通过浏览器显示在用户的显示屏上，然后客户机与服务器断开连接。
>如果在以上过程中的某一步出现错误，那么产生错误的信息将返回到客户端，有显示屏输出。对于用户来说，这些过程是由HTTP自己完成的，用户只要用鼠标点击，等待信息显示就可以了。

#### URL和URI
- http使用统一资源标识符（Uniform Resource Identifiers, URI）来传输数据和建立连接。URL是一种特殊类型的URI，包含了用于查找某个资源的足够的信息 
- 一个完整的URL包括：
1.协议部分
2.域名部分
3.端口部分
4.虚拟目录部分
5.文件名部分
6.锚部分
7.参数部分
- URI一般由三部组成：
①访问资源的命名机制
②存放资源的主机名
③资源自身的名称，由路径表示，着重强调于资源。

#### http的几个重要的概念
1.连接：Connection
一个传输层的实际环流，它是建立在两个相互通讯的应用程序之间。
2.消息：Message
HTTP通讯的基本单位，包括一个结构化的八元组序列并通过连接传输。
3.请求：Request
一个从客户端到服务器的请求信息包括应用于资源的方法、资源的标识符和协议的版本号。
4.响应：Response
一个从服务器返回的信息包括HTTP协议的版本号、请求的状态(例如“成功”或“没找到”)和文档的MIME类型。
5.资源：Resource
由URI标识的网络数据对象或服务。
6.实体：Entity
数据资源或来自服务资源的回映的一种特殊表示方法，它可能被包围在一个请求或响应信息中。一个实体包括实体头信息和实体的本身内容。
7.客户机：Client
一个为发送请求目的而建立连接的应用程序。
8.服务器：Server
一个接受连接并对请求返回信息的应用程序。

#### HTTP状态码
>状态代码有三位数字组成，第一个数字定义了响应的类别，共分五种类别:

>1xx：指示信息--表示请求已接收，继续处理
>2xx：成功--表示请求已被成功接收、理解、接受
>3xx：重定向--要完成请求必须进行更进一步的操作
>4xx：客户端错误--请求有语法错误或请求无法实现
>5xx：服务器端错误--服务器未能实现合法的请求

#### http请求方法
1.HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法
2.HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法